<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time Input</title>
<style>
      .checkbox-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    .checkbox-label {
        display: flex;
        align-items: center;
    }
    .checkbox-label input[type="radio"] {
        display: none;
    }
    .checkbox-label .checkbox-custom {
        width: 20px;
        height: 20px;
        border: 2px solid #aaa;
        border-radius: 5px;
        cursor: pointer;
        margin-right: 10px;
    }
    .checkbox-label .checkbox-custom.checked {
        background-color: #007bff;
    }
    .container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        width: 200px;
    }
    .time-input {
        width: 100%;
    }
</style>
</head>
<body>
  <h1> Distance Medley Relay</h1>
<div class="container">
    <div>
      <h3> 1200M: </h3>
        <input type="text" id="time1" class="time-input" placeholder="00:00:000" />
    </div>
    <div>
      <h3> 400M: </h3>

        <input type="text" id="time2" class="time-input" placeholder="00:00:000" />
    </div>
    <div>
      <h3> 800M: </h3>

        <input type="text" id="time3" class="time-input" placeholder="00:00:000" />
    </div>
    <div>
      <h3> 1600M: </h3>

        <input type="text" id="time4" class="time-input" placeholder="00:00:000" />
    </div>
    <div class="checkbox-container">
      <label class="checkbox-label" for="checkbox1">
          <div class="checkbox-custom" id="checkbox1"></div>
          NORMAL MALE BANKED
      </label>
      <label class="checkbox-label" for="checkbox2">
          <div class="checkbox-custom" id="checkbox2"></div>
          FE MALE BANKED
      </label>
  </div>

    <div>
        <h1> Total Time: </h1>
        <input type="text" id="totalTime" readonly />
    </div>
</div>
<script>
  const time_in_parse = document.querySelectorAll('.time-input');
  const total_ttime = document.getElementById('totalTime');
  const checkbox1 = document.getElementById('checkbox1');
  const checkbox2 = document.getElementById('checkbox2');
  time_in_parse.forEach(input => {
      input.addEventListener('input', get_time);
  });
  let cb1_status = false;
let cb2_status= false;
//only one camn be checked, use booleans nothing else works lol(?i love java!!!)
checkbox1.addEventListener('click', () => {
    cb1_status = !cb1_status;
    checkbox1.classList.toggle('checked', cb1_status);
    if (cb1_status) {
        cb2_status= false;
        checkbox2.classList.remove('checked');
    }
    get_time();
});
checkbox2.addEventListener('click', () => {
    cb2_status= !checkbox2Checked;
    checkbox2.classList.toggle('checked', checkbox2Checked);
    if (checkbox2Checked) {
        cb1_status = false; 
        checkbox1.classList.remove('checked');
    }
    get_time();
});
  function get_time() {
      let ms_total = 0;
      time_in_parse.forEach(input => {
          const [minutes, seconds, ms] = input.value.split(':').map(num => parseInt(num));
          ms_total += (minutes * 60 * 1000) + (seconds * 1000) + ms;
      });

      let multiplier = 1;
      if (cb1_status) {
        multiplier = 0.9866; //MALE
      }
      if (checkbox2Checked) {
        multiplier = 0.9894;// FE MALE
      }
      ms_total *= multiplier;
      const total_time_F = get_ms(ms_total);
      total_ttime.value = total_time_F;
  }
  function get_ms(ms) {
      const total_sec = Math.floor(ms / 1000);
      const totalMinutes = Math.floor(total_sec / 60);

      const rem_sec = total_sec % 60;
      const rem_ms = ms % 1000;

      return `${totalMinutes.toString().padStart(2, '0')}:${rem_sec.toString().padStart(2, '0')}:${rem_ms.toString().padStart(3, '0')}`;
  }
</script>




</body>
</html>
